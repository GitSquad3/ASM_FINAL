@model SIMSWebApp.Models.EditClassViewModel
@{
	ViewData["Title"] = "Edit Class";
	Layout = "_LayoutMain";
	var courses = ViewBag.Courses as IEnumerable<SIMSWebApp.DatabaseContext.Entities.Course>;
	var teachers = ViewBag.Teachers as IEnumerable<SIMSWebApp.DatabaseContext.Entities.Teacher>;
}
<div class="container-fluid px-4">
	<h2 class="mt-4">Edit Class</h2>
	<div class="card mb-4">
		<div class="card-body">
			<form asp-action="EditClass" method="post">
				<input type="hidden" asp-for="ClassRoomID" />
				<div class="row g-3">
					<div class="col-md-3">
						<label asp-for="ClassCode" class="form-label"></label>
						<input asp-for="ClassCode" class="form-control" />
						<span asp-validation-for="ClassCode" class="text-danger"></span>
					</div>
					<div class="col-md-5">
						<label asp-for="ClassName" class="form-label"></label>
						<input asp-for="ClassName" class="form-control" />
						<span asp-validation-for="ClassName" class="text-danger"></span>
					</div>
					<div class="col-md-2">
						<label asp-for="AcademicYear" class="form-label"></label>
						<input asp-for="AcademicYear" class="form-control" />
						<span asp-validation-for="AcademicYear" class="text-danger"></span>
					</div>
					<div class="col-md-2">
						<label asp-for="Department" class="form-label"></label>
						<input asp-for="Department" class="form-control" />
						<span asp-validation-for="Department" class="text-danger"></span>
					</div>
					<div class="col-12">
						<label asp-for="TeacherID" class="form-label"></label>
						<select asp-for="TeacherID" class="form-select">
							<option value="">-- Select Teacher --</option>
							@foreach (var teacher in teachers)
							{
								<option value="@teacher.TeacherID">@teacher.TeacherCode - @teacher.User.FullName</option>
							}
						</select>
						<span asp-validation-for="TeacherID" class="text-danger"></span>
					</div>
					<div class="col-12">
						<label class="form-label">Courses</label>
						<select asp-for="CourseIDs" class="form-select" multiple size="8">
							@foreach (var c in courses)
							{
								<option value="@c.CourseID" selected="@(Model.CourseIDs.Contains(c.CourseID))">@c.CourseCode - @c.CourseName</option>
							}
						</select>
					</div>
				</div>
				<div class="mt-3">
					<button type="submit" class="btn btn-primary">Save</button>
					<a asp-action="Classes" class="btn btn-secondary">Cancel</a>
				</div>
			</form>
		</div>
	</div>
</div>
@section Scripts { <partial name="_ValidationScriptsPartial" /> }
